<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<canvas id="myCanvas" width="600" height="400">
  您的浏览器不支持canvas！
</canvas>
<script type="text/javascript">
	window.onload=function(){
		var canvas = document.getElementById('myCanvas');

if (canvas.getContext) {
  var ctx = canvas.getContext('2d');
}ctx.beginPath(); // 开始路径绘制
ctx.moveTo(20, 20); // 设置路径起点，坐标为(20,20)
ctx.lineTo(200, 20); // 绘制一条到(200,20)的直线
ctx.lineWidth = 1.0; // 设置线宽
ctx.strokeStyle = "#CC0000"; // 设置线的颜色
ctx.stroke(); // 进行线的着色，这时整条线才变得可见
ctx.fillStyle = 'yellow';
ctx.fillRect(50, 50, 200, 100);/*fillRect(x, y, width, height)方法用来绘制矩形，它的四个参数分别为矩形左上角顶点的x坐标、y坐标，
以及矩形的宽和高。fillStyle属性用来设置矩形的填充色。*/
ctx.strokeRect(10,10,200,100); /*strokeRect方法与fillRect类似，用来绘制空心矩形*/
ctx.clearRect(100,50,50,50);  /*clearRect方法用来清除某个矩形区域的内容。*/
// 设置字体
ctx.font = "Bold 20px Arial"; 
// 设置对齐方式
ctx.textAlign = "left";
// 设置填充颜色
ctx.fillStyle = "#008600"; 
// 设置字体内容，以及在画布上的位置
ctx.fillText("Hello!", 10, 50); 
// 绘制空心字
ctx.strokeText("Hello!", 10, 100); 


/*ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise);
arc方法的x和y参数是圆心坐标，radius是半径，startAngle和endAngle则是扇形的起始角度和终止角度（以弧度表示）
，anticlockwise表示做图时应该逆时针画（true）还是顺时针画（false）。*/
/*下面是如何绘制实心的圆形。*/
ctx.beginPath(); 
ctx.arc(60, 60, 50, 0, Math.PI*2, true); 
ctx.fillStyle = "#000000"; 
ctx.fill();
/*绘制空心圆形的例子*/
ctx.beginPath(); 
ctx.arc(160, 60, 50, 0, Math.PI*2, true); 
ctx.lineWidth = 1.0; 
ctx.strokeStyle = "#000"; 
ctx.stroke();
		/*createLinearGradient方法用来设置渐变色
		 
		createLinearGradient方法的参数是(x1, y1, x2, y2)，
		其中x1和y1是起点坐标，x2和y2是终点坐标。通过不同的坐标值，可以生成从上至下、从左到右的渐变等等。
		 */
		var myGradient = ctx.createLinearGradient(100, 100, 200, 200); 

myGradient.addColorStop(0, "#fff"); 

myGradient.addColorStop(1, "#636363");


ctx.fillStyle = myGradient;
ctx.fillRect(100,100,200,200);

		ctx.shadowOffsetX = 10; // 设置水平位移
ctx.shadowOffsetY = 10; // 设置垂直位移
ctx.shadowBlur = 5; // 设置模糊度
ctx.shadowColor = "rgba(0,0,0,0.5)"; // 设置阴影颜色

ctx.fillStyle = "#CC0000"; 
ctx.fillRect(300,300,200,100);



/*drawImage()方法接受三个参数，第一个参数是图像文件的DOM元素（即img标签），
 * 第二个和第三个参数是图像左上角在Canvas元素中的坐标，
 * 上例中的（0, 0）就表示将图像左上角放置在Canvas元素的左上角。*/
var image = new Image();

image.onload = function() {
  var canvas = document.createElement('canvas');
  canvas.width = image.width;
  canvas.height = image.height;
  canvas.getContext('2d').drawImage(image, 0, 0);
  // 插入页面底部
  document.body.appendChild(image);
  return canvas;
}

image.src = 'img/25.jpg';
//function convertCanvasToImage(canvas) {
//var image = new Image();
//image.src = canvas.toDataURL('img/25.jpg');
// alert(image);
//}
/*save方法用于保存上下文环境，restore方法用于恢复到上一次保存的上下文环境。*/
convertCanvasToImage(canvas);

ctx.save();

ctx.shadowOffsetX = 10;
ctx.shadowOffsetY = 10;
ctx.shadowBlur = 5;
ctx.shadowColor = 'rgba(0,0,0,0.5)';

ctx.fillStyle = '#CC0000';
ctx.fillRect(10,10,150,100);

ctx.restore();

ctx.fillStyle = '#000000';
ctx.fillRect(180,10,150,100);

	}
	
</script>
<script type="text/javascript">
	
	window.onload=function(){
			var canvas = document.getElementById('anim');
var context;
if (canvas.getContext) {
  context = canvas.getContext('2d');}

//
//var vx = 10,
//  vy = -10,
//  gravity = 1;
//
//setInterval(function() {
//  posX += vx;
//  posY += vy;
//
//	if (posY > canvas.height * 0.75) {
//        vy *= -0.6;
//        vx *= 0.75;
//        posY = canvas.height * 0.75;
//  }
//	
//  vy += gravity;
//	// ...
//});


var vx = 10,
 vy = -10,gravity = 1;
var posX = 20,
    posY = 100;

setInterval(function() {
	  posX += vx;
    posY += vy;

	if (posY > canvas.height * 0.75) {
          vy *= -0.6;
          vx *= 0.75;
          posY = canvas.height * 0.75;
    }
	
    vy += gravity;
	context.fillStyle = "black";
    context.fillRect(0,0,canvas.width, canvas.height);

	posX += 1;
	posY += 0.25;

	context.beginPath();
	context.fillStyle = "white";

	context.arc(posX, posY, 10, 0, Math.PI*2, true); 
	context.closePath();
	context.fill();
}, 31);
		
	}
</script>

<canvas id="anim" width="600" height="400">
	</body>
</html>
